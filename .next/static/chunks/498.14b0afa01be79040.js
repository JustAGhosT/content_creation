"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{8117:(e,a,l)=>{l.r(a),l.d(a,{default:()=>n});var t=l(7876),s=l(4232),i=l(1040);let n=e=>{let{context:a}=e,[l,n]=(0,s.useState)(null),[r,c]=(0,s.useState)(null),[d,g]=(0,s.useState)(null),[u,p]=(0,s.useState)(!1),m=async()=>{p(!0),c(null);try{let e=await i.A.post("/api/generate-image",{context:a});n(e.data)}catch(e){c(e.message)}finally{p(!1)}},o=async()=>{p(!0),g(null),c(null);try{await i.A.post("/api/approve-image",{image:l}),g("Image approved successfully")}catch(e){c(e.message)}finally{p(!1)}},h=async()=>{g(null),c(null);try{await i.A.post("/api/reject-image",{image:l}),g("Image rejected successfully")}catch(e){c(e.message)}},f=async()=>{p(!0),c(null),g(null);try{let e=await i.A.post("/api/regenerate-image",{context:a});n(e.data),g("Image regenerated successfully")}catch(e){c(e.message)}finally{p(!1)}},y=async e=>{if(p(!0),c(null),g(null),e&&!["image/jpeg","image/png","image/gif"].includes(e.type)){c("Invalid file type. Please upload a JPEG, PNG, or GIF image."),p(!1);return}if(e&&e.size>5242880){c("File size too large. Maximum size is 5MB."),p(!1);return}let a=new FormData;a.append("file",e);try{let e=await i.A.post("/api/upload-image",a,{headers:{"Content-Type":"multipart/form-data"}});n(e.data),g("Image uploaded successfully")}catch(e){c(e.message)}finally{p(!1)}};return(0,t.jsxs)("div",{"aria-live":"polite",children:[(0,t.jsx)("h3",{children:"Image Generation"}),(0,t.jsx)("button",{onClick:m,"aria-label":"Generate image based on context",disabled:u,children:u?"Generating...":"Generate Image"}),r&&(0,t.jsxs)("p",{children:["Error: ",r]}),u&&(0,t.jsx)("p",{children:"Loading..."}),d&&(0,t.jsx)("p",{className:"feedback-message",children:d}),l&&(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:o,disabled:u,children:"Approve Image"}),(0,t.jsx)("button",{onClick:h,disabled:u,children:"Reject Image"}),(0,t.jsx)("button",{onClick:f,disabled:u,children:u?"Regenerating...":"Regenerate Image"}),(0,t.jsx)("input",{type:"file",accept:"image/*","aria-label":"Upload custom image",onChange:e=>e.target.files&&e.target.files.length>0&&y(e.target.files[0]),disabled:u}),(0,t.jsx)("p",{className:"help-text",children:"Upload a JPEG, PNG, or GIF image (max 5MB)"})]})]})}}}]);
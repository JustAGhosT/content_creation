(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{1839:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>p,reportWebVitals:()=>g});var s=a(7876),n=a(4232),t=a(7328),d=a.n(t),i=a(8676),l=a.n(i);let c=e=>{let{children:r,title:a,description:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d(),{children:[(0,s.jsx)("title",{children:a}),(0,s.jsx)("meta",{name:"description",content:n||a})]}),(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsxs)("div",{className:l().header,children:[(0,s.jsx)("h1",{children:a}),n&&(0,s.jsx)("p",{children:n})]}),(0,s.jsx)("div",{className:l().section,children:r})]})]})};var o=a(3827),h=a.n(o);let _=e=>{let{title:r,children:a,isLoading:n=!1}=e;return(0,s.jsxs)("div",{className:l().card,children:[(0,s.jsx)("h3",{children:r}),n?(0,s.jsx)("div",{className:h().loadingIndicator,children:"Loading..."}):a]})},m=e=>{let{metrics:r,isLoading:a,error:n,onRefresh:t}=e;return(0,s.jsx)(_,{title:"Engagement Metrics",isLoading:a,children:n?(0,s.jsxs)("div",{className:h().errorMessage,children:[(0,s.jsxs)("p",{children:["Error loading metrics: ",n]}),(0,s.jsx)("button",{onClick:t,className:h().refreshButton,children:"Try Again"})]}):0===r.length?(0,s.jsx)("p",{children:"No metrics available"}):(0,s.jsxs)("div",{children:[(0,s.jsx)("ul",{children:r.map((e,r)=>(0,s.jsxs)("li",{className:h().metricItem,children:[(0,s.jsx)("div",{className:h().platformName,children:e.platform}),(0,s.jsx)("div",{className:h().metricValue,children:e.value})]},r))}),(0,s.jsx)("button",{onClick:t,className:h().refreshButton,children:"Refresh Data"})]})})};var u=a(8985),x=a.n(u),f=a(5364);let j=()=>{let[e,r]=(0,n.useState)([]),[a,t]=(0,n.useState)(null),[d,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{(async()=>{i(!0);try{let e=new(x())({apiKey:f.env.NEXT_PUBLIC_AIRTABLE_API_KEY||""}).base(f.env.NEXT_PUBLIC_AIRTABLE_BASE_ID||"")(f.env.NEXT_PUBLIC_AIRTABLE_TABLE_NAME||""),a=await e.select().all();r(a)}catch(e){t(e.message)}finally{i(!1)}})()},[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Airtable Integration"}),a&&(0,s.jsxs)("p",{children:["Error: ",a]}),d&&(0,s.jsx)("p",{children:"Loading records..."}),!d&&0===e.length&&!a&&(0,s.jsx)("p",{children:"No records found"}),(0,s.jsx)("ul",{children:e.map(e=>(0,s.jsx)("li",{children:e.fields&&e.fields.Name||e.id||"Unnamed record"},e.id))})]})};function g(e){console.log(e)}let p=()=>{let{data:e,isLoading:r,error:a,refetch:t}=function(){let[e,r]=(0,n.useState)([]),[a,s]=(0,n.useState)(!0),[t,d]=(0,n.useState)(null),i=async()=>{try{s(!0),d(null);let e=await fetch("/api/engagement-metrics");if(!e.ok)throw Error("Error: ".concat(e.status));let a=await e.json();r(a)}catch(e){d(e instanceof Error?e.message:"An unknown error occurred")}finally{s(!1)}};return(0,n.useEffect)(()=>{i()},[]),{data:e,isLoading:a,error:t,refetch:i}}();return(0,s.jsx)(c,{title:"Performance Dashboard",description:"Monitor and analyze your content performance across platforms",children:(0,s.jsxs)("div",{className:h().dashboardGrid,children:[(0,s.jsx)(m,{metrics:e,isLoading:r,error:a,onRefresh:t}),(0,s.jsx)(j,{})]})})}},2352:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/performance-dashboard",function(){return a(1839)}])},3827:e=>{e.exports={dashboardGrid:"dashboard_dashboardGrid__AXgd6",metricItem:"dashboard_metricItem__gyL7m",platformName:"dashboard_platformName___e46F",metricValue:"dashboard_metricValue__wZjTA",refreshButton:"dashboard_refreshButton__DppjR",errorMessage:"dashboard_errorMessage__5PMhP",loadingIndicator:"dashboard_loadingIndicator__mvJ_B"}},8676:e=>{e.exports={container:"shared_container__jFTUd",header:"shared_header__LHJsr",section:"shared_section__uOxFS",grid:"shared_grid__r5gOw",card:"shared_card__zy_Ss",cardHeader:"shared_cardHeader__C65i3",icon:"shared_icon__gftJX",subtitle:"shared_subtitle__RcduF",highlight:"shared_highlight__fAmPM",infoBox:"shared_infoBox__7zfU7",badge:"shared_badge__Ua9Y4"}}},e=>{var r=r=>e(e.s=r);e.O(0,[985,636,593,792],()=>r(2352)),_N_E=e.O()}]);
(()=>{var e={};e.id=117,e.ids=[117],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},22757:(e,t,r)=>{"use strict";r.d(t,{Bn:()=>i,en:()=>o});let i=[{id:1,name:"Facebook",slug:"facebook",description:"Facebook social media platform"},{id:2,name:"Instagram",slug:"instagram",description:"Instagram photo sharing platform"},{id:3,name:"LinkedIn",slug:"linkedin",description:"LinkedIn professional network"},{id:4,name:"Twitter",slug:"twitter",description:"Twitter microblogging platform"},{id:5,name:"Custom Channel",slug:"custom-channel",description:"Custom publishing channel"}],n={facebook:{apiUrl:"https://api.facebook.com/publish",apiKey:process.env.FACEBOOK_API_KEY||(console.warn("FACEBOOK_API_KEY not set"),""),required:!0,capabilities:["text","image","video"]},instagram:{apiUrl:"https://api.instagram.com/publish",apiKey:process.env.INSTAGRAM_API_KEY||(console.warn("INSTAGRAM_API_KEY not set"),""),required:!0,capabilities:["image","video"]},linkedin:{apiUrl:"https://api.linkedin.com/publish",apiKey:process.env.LINKEDIN_API_KEY||(console.warn("LINKEDIN_API_KEY not set"),""),required:!0,capabilities:["text","image","article"]},twitter:{apiUrl:"https://api.twitter.com/publish",apiKey:process.env.TWITTER_API_KEY||(console.warn("TWITTER_API_KEY not set"),""),required:!0,capabilities:["text","image","video"]},"custom-channel":{apiUrl:"https://api.customchannel.com/publish",apiKey:process.env.CUSTOM_CHANNEL_API_KEY||(console.warn("CUSTOM_CHANNEL_API_KEY not set"),""),required:!0,headers:{Authorization:`Bearer ${process.env.CUSTOM_CHANNEL_API_KEY||""}`,"Content-Type":"application/json"},capabilities:["text","image","video","audio"]}};function o(e){return n[e.toLowerCase().replace(/\s+/g,"-")]||n[e.toLowerCase()]}!function(){let e=Object.entries(n).filter(([e,t])=>t.required&&!t.apiKey).map(([e])=>e);e.length>0&&(console.warn(`Missing API keys for required platforms: ${e.join(", ")}`),console.warn("API calls to these platforms will likely fail"))}()},29039:(e,t,r)=>{"use strict";r.d(t,{LR:()=>o,hn:()=>n});var i=r(44999);async function n(e,t,r,n){let o=await (0,i.b3)(),a=o.get("x-invoke-path")||"unknown",s=o.get("x-http-method")||"unknown";return{action:e,user:o.get("x-user-id")||"anonymous",timestamp:new Date().toISOString(),path:a,method:s,body:t?function e(t){if(!t)return t;let r=["password","token","apiKey","secret","authorization"],i={...t};for(let[t,n]of Object.entries(i)){let o=t.toLowerCase();if(r.some(e=>o.includes(e))){i[t]="[REDACTED]";continue}"object"==typeof n&&null!==n&&(i[t]=e(n))}return i}(t):void 0,result:r,statusCode:n}}async function o(e){try{await fetch("/api/internal/audit-log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.error("[AUDIT SERVICE ERROR]",t),console.log("[AUDIT FALLBACK]",JSON.stringify(e))}}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},35345:(e,t,r)=>{"use strict";r.d(t,{I:()=>o,Uj:()=>a});var i=r(32190);function n(e,t=500,r,o){let a={message:e};return r&&(a.details=r),o&&(a.code=o),i.NextResponse.json(a,{status:t})}let o={badRequest:(e="Bad request",t)=>n(e,400,t,"BAD_REQUEST"),unauthorized:(e="Unauthorized",t)=>n(e,401,t,"UNAUTHORIZED"),forbidden:(e="Forbidden",t)=>n(e,403,t,"FORBIDDEN"),notFound:(e="Not found",t)=>n(e,404,t,"NOT_FOUND"),methodNotAllowed:(e="Method not allowed",t)=>n(e,405,t,"METHOD_NOT_ALLOWED"),conflict:(e="Conflict",t)=>n(e,409,t,"CONFLICT"),internalServerError:(e="Internal server error",t)=>n(e,500,t,"INTERNAL_SERVER_ERROR")};function a(e){return async(t,r)=>{try{return await e(t,r)}catch(e){if(console.error("API Error:",{error:e,timestamp:new Date().toISOString(),url:t?.url||"unknown",method:t?.method||"unknown"}),"ValidationError"===e.name)return o.badRequest("Validation error",e.details);return o.internalServerError(e.message||"An unexpected error occurred",e.cause)}}}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65453:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>w,routeModule:()=>I,serverHooks:()=>E,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>A});var i={};r.r(i),r.d(i,{GET:()=>h});var n=r(96559),o=r(48088),a=r(37719),s=r(32190),l=r(22757),u=r(35345),p=r(99708),c=r(29039);let d=()=>(0,p.wR)()?null:u.I.unauthorized("Authentication required to access platform capabilities"),m=e=>{if(!e)return{error:u.I.badRequest("Platform ID is required")};let t=parseInt(e);return isNaN(t)?{error:u.I.badRequest("Invalid platform ID")}:{platformId:t,error:null}},f=e=>{let t=l.Bn.find(t=>t.id===e);return t?{platform:t,error:null}:{error:u.I.notFound("Platform not found")}},h=(0,u.Uj)(async(e,t)=>{let r=d();if(r)return r;let{platformId:i,error:n}=m(t?.params?.id);if(n)return n;let{platform:o,error:a}=f(i);if(a)return a;let p=await (0,c.hn)("GET_PLATFORM_CAPABILITIES",{platformId:i,platformName:o.name});await (0,c.LR)(p);let h=(0,l.en)(o.name);return h?s.NextResponse.json({platform:o,capabilities:h.capabilities||[]}):u.I.notFound("Platform configuration not found")}),I=new n.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/platforms/[id]/capabilities/route",pathname:"/api/platforms/[id]/capabilities",filename:"route",bundlePath:"app/api/platforms/[id]/capabilities/route"},resolvedPagePath:"C:\\Dev\\PhoenixVC\\content_creation\\app\\api\\platforms\\[id]\\capabilities\\route.ts",nextConfigOutput:"",userland:i}),{workAsyncStorage:g,workUnitAsyncStorage:A,serverHooks:E}=I;function w(){return(0,a.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:A})}},78335:()=>{},96487:()=>{},99708:(e,t,r)=>{"use strict";r.d(t,{qc:()=>o,wR:()=>n});var i=r(44999);async function n(){return!!(await (0,i.b3)()).get("x-user-id")}async function o(){return"admin"===(await (0,i.b3)()).get("x-user-role")}r(32190)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[360],()=>r(65453));module.exports=i})();
(()=>{var e={};e.id=838,e.ids=[838],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},22757:(e,t,r)=>{"use strict";r.d(t,{Bn:()=>n,en:()=>o});let n=[{id:1,name:"Facebook",slug:"facebook",description:"Facebook social media platform"},{id:2,name:"Instagram",slug:"instagram",description:"Instagram photo sharing platform"},{id:3,name:"LinkedIn",slug:"linkedin",description:"LinkedIn professional network"},{id:4,name:"Twitter",slug:"twitter",description:"Twitter microblogging platform"},{id:5,name:"Custom Channel",slug:"custom-channel",description:"Custom publishing channel"}],i={facebook:{apiUrl:"https://api.facebook.com/publish",apiKey:process.env.FACEBOOK_API_KEY||(console.warn("FACEBOOK_API_KEY not set"),""),required:!0,capabilities:["text","image","video"]},instagram:{apiUrl:"https://api.instagram.com/publish",apiKey:process.env.INSTAGRAM_API_KEY||(console.warn("INSTAGRAM_API_KEY not set"),""),required:!0,capabilities:["image","video"]},linkedin:{apiUrl:"https://api.linkedin.com/publish",apiKey:process.env.LINKEDIN_API_KEY||(console.warn("LINKEDIN_API_KEY not set"),""),required:!0,capabilities:["text","image","article"]},twitter:{apiUrl:"https://api.twitter.com/publish",apiKey:process.env.TWITTER_API_KEY||(console.warn("TWITTER_API_KEY not set"),""),required:!0,capabilities:["text","image","video"]},"custom-channel":{apiUrl:"https://api.customchannel.com/publish",apiKey:process.env.CUSTOM_CHANNEL_API_KEY||(console.warn("CUSTOM_CHANNEL_API_KEY not set"),""),required:!0,headers:{Authorization:`Bearer ${process.env.CUSTOM_CHANNEL_API_KEY||""}`,"Content-Type":"application/json"},capabilities:["text","image","video","audio"]}};function o(e){return i[e.toLowerCase().replace(/\s+/g,"-")]||i[e.toLowerCase()]}!function(){let e=Object.entries(i).filter(([e,t])=>t.required&&!t.apiKey).map(([e])=>e);e.length>0&&(console.warn(`Missing API keys for required platforms: ${e.join(", ")}`),console.warn("API calls to these platforms will likely fail"))}()},29039:(e,t,r)=>{"use strict";r.d(t,{LR:()=>o,hn:()=>i});var n=r(44999);async function i(e,t,r,i){let o=await (0,n.b3)(),a=o.get("x-invoke-path")||"unknown",s=o.get("x-http-method")||"unknown";return{action:e,user:o.get("x-user-id")||"anonymous",timestamp:new Date().toISOString(),path:a,method:s,body:t?function e(t){if(!t)return t;let r=["password","token","apiKey","secret","authorization"],n={...t};for(let[t,i]of Object.entries(n)){let o=t.toLowerCase();if(r.some(e=>o.includes(e))){n[t]="[REDACTED]";continue}"object"==typeof i&&null!==i&&(n[t]=e(i))}return n}(t):void 0,result:r,statusCode:i}}async function o(e){try{await fetch("/api/internal/audit-log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.error("[AUDIT SERVICE ERROR]",t),console.log("[AUDIT FALLBACK]",JSON.stringify(e))}}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},35345:(e,t,r)=>{"use strict";r.d(t,{I:()=>o,Uj:()=>a});var n=r(32190);function i(e,t=500,r,o){let a={message:e};return r&&(a.details=r),o&&(a.code=o),n.NextResponse.json(a,{status:t})}let o={badRequest:(e="Bad request",t)=>i(e,400,t,"BAD_REQUEST"),unauthorized:(e="Unauthorized",t)=>i(e,401,t,"UNAUTHORIZED"),forbidden:(e="Forbidden",t)=>i(e,403,t,"FORBIDDEN"),notFound:(e="Not found",t)=>i(e,404,t,"NOT_FOUND"),methodNotAllowed:(e="Method not allowed",t)=>i(e,405,t,"METHOD_NOT_ALLOWED"),conflict:(e="Conflict",t)=>i(e,409,t,"CONFLICT"),internalServerError:(e="Internal server error",t)=>i(e,500,t,"INTERNAL_SERVER_ERROR")};function a(e){return async(t,r)=>{try{return await e(t,r)}catch(e){if(console.error("API Error:",{error:e,timestamp:new Date().toISOString(),url:t?.url||"unknown",method:t?.method||"unknown"}),"ValidationError"===e.name)return o.badRequest("Validation error",e.details);return o.internalServerError(e.message||"An unexpected error occurred",e.cause)}}}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55798:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>A,routeModule:()=>f,serverHooks:()=>E,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>w});var n={};r.r(n),r.d(n,{GET:()=>h});var i=r(96559),o=r(48088),a=r(37719),s=r(32190),u=r(22757),c=r(35345),l=r(29039),p=r(99708);async function d(){return u.Bn}async function m(){let e=await (0,l.hn)("GET_PLATFORMS_LIST");await (0,l.LR)(e)}let h=(0,c.Uj)(async()=>{let e=(0,p.wR)()?null:c.I.unauthorized("Authentication required");if(e)return e;await m();let t=await d();return s.NextResponse.json(t)}),f=new i.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/platforms/route",pathname:"/api/platforms",filename:"route",bundlePath:"app/api/platforms/route"},resolvedPagePath:"C:\\Dev\\PhoenixVC\\content_creation\\app\\api\\platforms\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:g,workUnitAsyncStorage:w,serverHooks:E}=f;function A(){return(0,a.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:w})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{},99708:(e,t,r)=>{"use strict";r.d(t,{qc:()=>o,wR:()=>i});var n=r(44999);async function i(){return!!(await (0,n.b3)()).get("x-user-id")}async function o(){return"admin"===(await (0,n.b3)()).get("x-user-role")}r(32190)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[360],()=>r(55798));module.exports=n})();
"use strict";exports.id=71,exports.ids=[71],exports.modules={73071:(e,a,l)=>{l.a(e,async(e,t)=>{try{l.r(a),l.d(a,{default:()=>c});var s=l(8732),i=l(82015),n=l(1428),r=e([n]);n=(r.then?(await r)():r)[0];let c=({context:e})=>{let[a,l]=(0,i.useState)(null),[t,r]=(0,i.useState)(null),[c,d]=(0,i.useState)(null),[u,g]=(0,i.useState)(!1),p=async()=>{g(!0),r(null);try{let a=await n.default.post("/api/generate-image",{context:e});l(a.data)}catch(e){r(e.message)}finally{g(!1)}},o=async()=>{g(!0),d(null),r(null);try{await n.default.post("/api/approve-image",{image:a}),d("Image approved successfully")}catch(e){r(e.message)}finally{g(!1)}},m=async()=>{d(null),r(null);try{await n.default.post("/api/reject-image",{image:a}),d("Image rejected successfully")}catch(e){r(e.message)}},f=async()=>{g(!0),r(null),d(null);try{let a=await n.default.post("/api/regenerate-image",{context:e});l(a.data),d("Image regenerated successfully")}catch(e){r(e.message)}finally{g(!1)}},y=async e=>{if(g(!0),r(null),d(null),e&&!["image/jpeg","image/png","image/gif"].includes(e.type)){r("Invalid file type. Please upload a JPEG, PNG, or GIF image."),g(!1);return}if(e&&e.size>5242880){r("File size too large. Maximum size is 5MB."),g(!1);return}let a=new FormData;a.append("file",e);try{let e=await n.default.post("/api/upload-image",a,{headers:{"Content-Type":"multipart/form-data"}});l(e.data),d("Image uploaded successfully")}catch(e){r(e.message)}finally{g(!1)}};return(0,s.jsxs)("div",{"aria-live":"polite",children:[(0,s.jsx)("h3",{children:"Image Generation"}),(0,s.jsx)("button",{onClick:p,"aria-label":"Generate image based on context",disabled:u,children:u?"Generating...":"Generate Image"}),t&&(0,s.jsxs)("p",{children:["Error: ",t]}),u&&(0,s.jsx)("p",{children:"Loading..."}),c&&(0,s.jsx)("p",{className:"feedback-message",children:c}),a&&(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:o,disabled:u,children:"Approve Image"}),(0,s.jsx)("button",{onClick:m,disabled:u,children:"Reject Image"}),(0,s.jsx)("button",{onClick:f,disabled:u,children:u?"Regenerating...":"Regenerate Image"}),(0,s.jsx)("input",{type:"file",accept:"image/*","aria-label":"Upload custom image",onChange:e=>e.target.files&&e.target.files.length>0&&y(e.target.files[0]),disabled:u}),(0,s.jsx)("p",{className:"help-text",children:"Upload a JPEG, PNG, or GIF image (max 5MB)"})]})]})};t()}catch(e){t(e)}})}};